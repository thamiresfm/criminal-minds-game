<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Investiga√ß√£o - Criminal Minds Cards</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #0f0f23, #1a1a2e, #16213e);
            color: white;
            min-height: 100vh;
            overflow-x: hidden;
        }

        .game-container {
            display: grid;
            grid-template-columns: 280px 1fr 280px;
            grid-template-rows: 80px 1fr;
            height: 100vh;
            gap: 1rem;
            padding: 1rem;
        }

        .header {
            grid-column: 1 / -1;
            background: rgba(15, 15, 35, 0.95);
            border: 2px solid rgba(251, 191, 36, 0.4);
            border-radius: 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 2rem;
            backdrop-filter: blur(15px);
            box-shadow: 0 8px 32px rgba(251, 191, 36, 0.1);
        }

        .case-title {
            font-size: 1.8rem;
            font-weight: 800;
            background: linear-gradient(45deg, #fbbf24, #f59e0b, #f97316);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            text-shadow: 0 0 30px rgba(251, 191, 36, 0.3);
        }

        .timer {
            font-size: 1.4rem;
            color: #ef4444;
            font-weight: 700;
            text-shadow: 0 0 10px rgba(239, 68, 68, 0.5);
        }

        .sidebar {
            background: rgba(15, 15, 35, 0.95);
            border: 2px solid rgba(251, 191, 36, 0.3);
            border-radius: 20px;
            padding: 1.5rem;
            backdrop-filter: blur(15px);
            overflow-y: auto;
            overflow-x: hidden;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
            min-width: 0;
        }

        .main-area {
            background: rgba(15, 15, 35, 0.95);
            border: 2px solid rgba(251, 191, 36, 0.3);
            border-radius: 20px;
            padding: 2rem;
            backdrop-filter: blur(15px);
            overflow-y: auto;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
        }

        .section-title {
            font-size: 1.3rem;
            font-weight: 700;
            margin-bottom: 1.5rem;
            color: #fbbf24;
            border-bottom: 3px solid rgba(251, 191, 36, 0.4);
            padding-bottom: 0.8rem;
            text-shadow: 0 0 10px rgba(251, 191, 36, 0.3);
        }

        /* SISTEMA DE CARTAS MODERNO */
        .cards-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .card {
            position: relative;
            width: 280px;
            height: 180px;
            border-radius: 15px;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            transform-style: preserve-3d;
            perspective: 1000px;
        }

        .card:hover {
            transform: translateY(-10px) rotateX(5deg) rotateY(5deg);
            box-shadow: 0 20px 40px rgba(251, 191, 36, 0.2);
        }

        .card-inner {
            position: relative;
            width: 100%;
            height: 100%;
            border-radius: 15px;
            overflow: hidden;
            background: linear-gradient(135deg, rgba(22, 33, 62, 0.9), rgba(15, 15, 35, 0.9));
            border: 2px solid transparent;
            background-clip: padding-box;
        }

        /* RARIDADES DAS CARTAS */
        .card.common .card-inner {
            border-image: linear-gradient(45deg, #6b7280, #9ca3af) 1;
            box-shadow: 0 0 20px rgba(107, 114, 128, 0.3);
        }

        .card.rare .card-inner {
            border-image: linear-gradient(45deg, #3b82f6, #60a5fa) 1;
            box-shadow: 0 0 25px rgba(59, 130, 246, 0.4);
        }

        .card.epic .card-inner {
            border-image: linear-gradient(45deg, #8b5cf6, #a78bfa) 1;
            box-shadow: 0 0 30px rgba(139, 92, 246, 0.5);
        }

        .card.legendary .card-inner {
            border-image: linear-gradient(45deg, #f59e0b, #fbbf24, #f97316) 1;
            box-shadow: 0 0 35px rgba(251, 191, 36, 0.6);
            animation: legendaryGlow 3s ease-in-out infinite alternate;
        }

        @keyframes legendaryGlow {
            0% { box-shadow: 0 0 35px rgba(251, 191, 36, 0.6); }
            100% { box-shadow: 0 0 50px rgba(251, 191, 36, 0.8); }
        }

        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem 1.2rem 0.5rem;
        }

        .card-type {
            font-size: 0.8rem;
            font-weight: 600;
            text-transform: uppercase;
            opacity: 0.8;
        }

        .card-rarity {
            font-size: 0.9rem;
            font-weight: 700;
            padding: 0.2rem 0.8rem;
            border-radius: 20px;
            text-transform: uppercase;
            font-size: 0.7rem;
        }

        .rarity-common { background: #6b7280; color: white; }
        .rarity-rare { background: #3b82f6; color: white; }
        .rarity-epic { background: #8b5cf6; color: white; }
        .rarity-legendary { 
            background: linear-gradient(45deg, #f59e0b, #fbbf24);
            color: #0f0f23;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        .card-icon {
            font-size: 2.5rem;
            text-align: center;
            margin: 0.5rem 0;
            filter: drop-shadow(0 0 10px rgba(251, 191, 36, 0.3));
        }

        .card-title {
            font-size: 1.1rem;
            font-weight: 700;
            color: #fbbf24;
            text-align: center;
            margin-bottom: 0.5rem;
            text-shadow: 0 0 10px rgba(251, 191, 36, 0.3);
        }

        .card-description {
            font-size: 0.85rem;
            color: #cbd5e1;
            line-height: 1.4;
            padding: 0 1.2rem;
            text-align: center;
        }

        .card-stats {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: rgba(0, 0, 0, 0.7);
            padding: 0.8rem 1.2rem;
            display: flex;
            justify-content: space-between;
            font-size: 0.8rem;
        }

        .stat {
            display: flex;
            align-items: center;
            gap: 0.3rem;
        }

        /* EFEITO DE FLIP DAS CARTAS */
        .card-flip {
            perspective: 1000px;
        }

        .card-flip .card-inner {
            transform-style: preserve-3d;
            transition: transform 0.6s;
        }

        .card-flip.flipped .card-inner {
            transform: rotateY(180deg);
        }

        .card-front, .card-back {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            border-radius: 15px;
        }

        .card-back {
            transform: rotateY(180deg);
            background: linear-gradient(135deg, rgba(15, 15, 35, 0.95), rgba(22, 33, 62, 0.95));
            padding: 1.5rem;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        /* DECK E M√ÉO DE CARTAS */
        .deck-area {
            margin-top: 2rem;
            padding: 1.5rem;
            background: rgba(22, 33, 62, 0.6);
            border: 2px solid rgba(251, 191, 36, 0.2);
            border-radius: 15px;
        }

        .hand-cards {
            display: flex;
            gap: 1rem;
            overflow-x: auto;
            padding: 1rem 0;
        }

        .mini-card {
            min-width: 120px;
            height: 80px;
            border-radius: 8px;
            background: linear-gradient(135deg, rgba(22, 33, 62, 0.9), rgba(15, 15, 35, 0.9));
            border: 1px solid rgba(251, 191, 36, 0.3);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .mini-card:hover {
            transform: translateY(-5px);
            border-color: #fbbf24;
            box-shadow: 0 10px 20px rgba(251, 191, 36, 0.2);
        }

        .mini-card-icon {
            font-size: 1.5rem;
            margin-bottom: 0.3rem;
        }

        .mini-card-title {
            font-size: 0.7rem;
            font-weight: 600;
            color: #fbbf24;
            text-align: center;
        }

        /* BOT√ïES MODERNOS */
        .btn {
            background: linear-gradient(135deg, #fbbf24, #f59e0b);
            color: #0f0f23;
            border: none;
            padding: 0.8rem 1.5rem;
            border-radius: 12px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(251, 191, 36, 0.3);
            text-transform: uppercase;
            font-size: 0.85rem;
            letter-spacing: 0.5px;
        }

        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(251, 191, 36, 0.5);
        }

        .btn-danger {
            background: linear-gradient(135deg, #ef4444, #dc2626);
            color: white;
            box-shadow: 0 4px 15px rgba(239, 68, 68, 0.3);
        }

        .btn-danger:hover {
            box-shadow: 0 8px 25px rgba(239, 68, 68, 0.5);
        }

        /* BOT√ÉO SAIR MODERNO */
        .exit-button {
            background: rgba(15, 15, 35, 0.9);
            border: 2px solid rgba(156, 163, 175, 0.3);
            color: #9ca3af;
            padding: 0.6rem 1rem;
            border-radius: 12px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 0.9rem;
            backdrop-filter: blur(10px);
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
        }

        .exit-button:hover {
            border-color: #ef4444;
            color: #f87171;
            background: rgba(239, 68, 68, 0.1);
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(239, 68, 68, 0.2);
        }

        .exit-icon {
            font-size: 1.2rem;
            font-weight: bold;
            transition: transform 0.3s ease;
        }

        .exit-button:hover .exit-icon {
            transform: translateX(-3px);
        }

        .exit-button:active {
            transform: translateY(0) scale(0.95);
        }

        /* MODAL MODERNO */
        .modal {
            display: none;
            position: fixed;
            z-index: 2000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.9);
            backdrop-filter: blur(10px);
        }

        .modal-content {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: linear-gradient(135deg, #1a1a2e, #16213e);
            border: 3px solid #fbbf24;
            border-radius: 20px;
            padding: 2.5rem;
            max-width: 700px;
            width: 90%;
            max-height: 80vh;
            overflow-y: auto;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
        }

        .close {
            color: #aaa;
            float: right;
            font-size: 32px;
            font-weight: bold;
            cursor: pointer;
            transition: color 0.3s ease;
        }

        .close:hover {
            color: #fbbf24;
            text-shadow: 0 0 10px rgba(251, 191, 36, 0.5);
        }

        /* PROGRESS BARS MODERNAS */
        .progress-bar {
            width: 100%;
            height: 12px;
            background: rgba(15, 15, 35, 0.8);
            border-radius: 6px;
            margin-top: 1rem;
            overflow: hidden;
            border: 1px solid rgba(251, 191, 36, 0.2);
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #fbbf24, #f59e0b, #f97316);
            transition: width 0.5s ease;
            box-shadow: 0 0 20px rgba(251, 191, 36, 0.3);
        }

        /* CHAT MODERNO */
        .chat-container {
            height: 200px;
            background: rgba(15, 15, 35, 0.6);
            border: 2px solid rgba(251, 191, 36, 0.3);
            border-radius: 15px;
            padding: 1rem;
            margin-bottom: 1.5rem;
            overflow-y: auto;
            backdrop-filter: blur(10px);
            width: 100%;
            box-sizing: border-box;
        }

        .chat-message {
            margin-bottom: 0.8rem;
            font-size: 0.9rem;
            padding: 0.5rem;
            border-radius: 8px;
            background: rgba(22, 33, 62, 0.3);
        }

        .chat-user {
            color: #fbbf24;
            font-weight: 700;
            text-shadow: 0 0 5px rgba(251, 191, 36, 0.3);
        }

        .chat-input {
            display: flex;
            gap: 0.8rem;
            align-items: stretch;
            margin-top: 1rem;
            width: 100%;
            overflow: hidden;
        }

        .chat-input input {
            flex: 1;
            padding: 1rem 1.2rem;
            border: 2px solid rgba(251, 191, 36, 0.3);
            border-radius: 15px;
            background: rgba(15, 15, 35, 0.9);
            color: white;
            font-size: 0.95rem;
            font-weight: 500;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
        }

        .chat-input input:focus {
            outline: none;
            border-color: #fbbf24;
            box-shadow: 0 0 20px rgba(251, 191, 36, 0.4);
            background: rgba(15, 15, 35, 0.95);
            transform: translateY(-1px);
        }

        .chat-input input::placeholder {
            color: rgba(203, 213, 225, 0.6);
            font-style: italic;
        }

        /* BOT√ÉO ENVIAR ULTRA-MODERNO */
        .send-button {
            background: linear-gradient(135deg, #fbbf24, #f59e0b, #f97316);
            color: #0f0f23;
            border: none;
            padding: 0.9rem 1.1rem;
            border-radius: 12px;
            font-weight: 800;
            font-size: 0.8rem;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            box-shadow: 0 4px 15px rgba(251, 191, 36, 0.4);
            display: flex;
            align-items: center;
            gap: 0.3rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            min-width: 80px;
            max-width: 110px;
            justify-content: center;
            position: relative;
            overflow: hidden;
            flex-shrink: 0;
            border: 2px solid transparent;
            background-clip: padding-box;
        }

        .send-button::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            transition: left 0.6s ease;
        }

        .send-button:hover {
            transform: translateY(-4px) scale(1.05);
            box-shadow: 0 10px 30px rgba(251, 191, 36, 0.6);
            background: linear-gradient(135deg, #f59e0b, #fbbf24, #f97316);
            border-color: rgba(251, 191, 36, 0.8);
        }

        .send-button:hover::before {
            left: 100%;
        }

        .send-button:active {
            transform: translateY(-2px) scale(0.95);
            box-shadow: 0 6px 20px rgba(251, 191, 36, 0.5);
            transition: all 0.1s ease;
        }

        .send-button:focus {
            outline: none;
            box-shadow: 0 0 0 3px rgba(251, 191, 36, 0.3);
        }

        .send-button-icon {
            font-size: 1.1rem;
            transition: transform 0.3s ease;
        }

        .send-button:hover .send-button-icon {
            transform: translateX(2px);
        }

        .send-button-text {
            transition: all 0.3s ease;
        }

        .send-button-ripple {
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.6);
            transform: translate(-50%, -50%);
            transition: width 0.6s ease, height 0.6s ease;
            pointer-events: none;
        }

        .send-button:active .send-button-ripple {
            width: 100px;
            height: 100px;
        }

        /* ANIMA√á√ÉO DE PULSE PARA CHAMAR ATEN√á√ÉO */
        @keyframes sendPulse {
            0% { box-shadow: 0 4px 15px rgba(251, 191, 36, 0.4); }
            50% { box-shadow: 0 4px 25px rgba(251, 191, 36, 0.7); }
            100% { box-shadow: 0 4px 15px rgba(251, 191, 36, 0.4); }
        }

        .send-button.highlight {
            animation: sendPulse 1.5s ease-in-out infinite;
        }

        /* RESPONSIVIDADE DO CHAT APRIMORADA */
        @media (max-width: 1024px) {
            .send-button {
                padding: 0.85rem 1rem;
                font-size: 0.75rem;
                min-width: 75px;
                max-width: 100px;
            }
        }

        @media (max-width: 768px) {
            .chat-input {
                gap: 0.4rem;
                flex-wrap: nowrap;
            }
            
            .chat-input input {
                padding: 0.8rem 1rem;
                font-size: 0.85rem;
                min-width: 0;
                border-radius: 10px;
            }
            
            .send-button {
                padding: 0.8rem 0.9rem;
                font-size: 0.7rem;
                min-width: 65px;
                max-width: 85px;
                gap: 0.2rem;
                border-radius: 10px;
            }
        }

        @media (max-width: 480px) {
            .chat-input {
                gap: 0.3rem;
            }
            
            .chat-input input {
                padding: 0.7rem 0.8rem;
                font-size: 0.8rem;
                border-radius: 8px;
            }
            
            .send-button {
                padding: 0.7rem 0.6rem;
                font-size: 0.65rem;
                min-width: 50px;
                max-width: 65px;
                border-radius: 8px;
            }
            
            .send-button-text {
                display: none;
            }
            
            .send-button-icon {
                font-size: 1.1rem !important;
            }
        }

        @media (max-width: 360px) {
            .chat-input {
                gap: 0.2rem;
            }
            
            .send-button {
                padding: 0.6rem 0.5rem;
                min-width: 45px;
                max-width: 55px;
            }
            
            .send-button-icon {
                font-size: 1rem !important;
            }
        }

        /* RESPONSIVIDADE */
        @media (max-width: 1200px) {
            .game-container {
                grid-template-columns: 1fr;
                grid-template-rows: auto auto 1fr auto;
                height: auto;
                min-height: 100vh;
                padding: 0.8rem;
            }
            
            .sidebar {
                padding: 1.2rem;
            }
            
            .cards-container {
                grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            }
            
            .card {
                width: 100%;
                max-width: 280px;
                margin: 0 auto;
            }
        }

        @media (max-width: 768px) {
            .cards-container {
                grid-template-columns: 1fr;
            }
            
            .hand-cards {
                justify-content: center;
            }
        }

        /* ANIMA√á√ïES EXTRAS */
        @keyframes cardAppear {
            0% {
                opacity: 0;
                transform: translateY(50px) rotateX(-30deg);
            }
            100% {
                opacity: 1;
                transform: translateY(0) rotateX(0);
            }
        }

        @keyframes slideIn {
            0% {
                opacity: 0;
                transform: translateX(50px) scale(0.8);
            }
            100% {
                opacity: 1;
                transform: translateX(0) scale(1);
            }
        }

        /* EFEITOS PARA BOT√ÉO DISABLED */
        .send-button:disabled {
            opacity: 0.7;
            cursor: not-allowed;
            transform: none !important;
        }

        .send-button:disabled:hover {
            transform: none !important;
            box-shadow: 0 4px 15px rgba(251, 191, 36, 0.3) !important;
        }

        .card {
            animation: cardAppear 0.6s ease-out;
        }

        .card:nth-child(1) { animation-delay: 0.1s; }
        .card:nth-child(2) { animation-delay: 0.2s; }
        .card:nth-child(3) { animation-delay: 0.3s; }
        .card:nth-child(4) { animation-delay: 0.4s; }
        .card:nth-child(5) { animation-delay: 0.5s; }
        .card:nth-child(6) { animation-delay: 0.6s; }
    </style>
</head>
<body>
    <div class="game-container">
        <div class="header">
            <div style="display: flex; align-items: center; gap: 1rem;">
                <button class="exit-button" onclick="exitInvestigation()">
                    <span class="exit-icon">‚Üê</span>
                    <span>Sair</span>
                </button>
                <div class="case-title">üéØ CRIMINAL MINDS: DIGITAL CARDS</div>
            </div>
            <div class="timer" id="gameTimer">‚è±Ô∏è 45:00</div>
            <div style="display: flex; gap: 1rem;">
                <button class="btn" onclick="openDeck()">üÉè Meu Deck</button>
                <button class="btn" onclick="showCollection()">üìö Cole√ß√£o</button>
                <button class="btn btn-danger" onclick="makeAccusation()">‚öñÔ∏è Acusar</button>
            </div>
        </div>

        <div class="sidebar">
            <div class="section-title">üïµÔ∏è Equipe Online</div>
            <div class="team-list" id="teamList">
                <div class="chat-message">
                    <span class="chat-user">üëë Detetive Reid:</span> Online - 127 cartas
                </div>
                <div class="chat-message">
                    <span class="chat-user">üîç Agente Morgan:</span> Online - 98 cartas
                </div>
                <div class="chat-message">
                    <span class="chat-user">üìä Dra. Brennan:</span> Online - 156 cartas
                </div>
            </div>

            <div class="section-title" style="margin-top: 2rem;">üí¨ Chat da Equipe</div>
            <div class="chat-container" id="chatContainer">
                <div class="chat-message">
                    <span class="chat-user">üëë Reid:</span> Acabei de encontrar uma carta LEND√ÅRIA! üî•
                </div>
                <div class="chat-message">
                    <span class="chat-user">üîç Morgan:</span> Vou jogar minha carta de Interrogat√≥rio
                </div>
                <div class="chat-message">
                    <span class="chat-user">üìä Brennan:</span> Combo perfeito de evid√™ncias! +50 pontos
                </div>
            </div>
            <div class="chat-input">
                <input type="text" id="chatInput" placeholder="Digite sua mensagem..." maxlength="200">
                <button class="send-button" onclick="sendMessage()" title="Enviar mensagem (Enter)" aria-label="Enviar mensagem">
                    <span class="send-button-text">Enviar</span>
                    <span class="send-button-icon">üì§</span>
                    <div class="send-button-ripple"></div>
                </button>
            </div>
        </div>

        <div class="main-area">
            <div class="section-title">üÉè Cartas de Investiga√ß√£o Ativas</div>
            
            <div class="cards-container" id="cardsContainer">
                <!-- Carta de Evid√™ncia Lend√°ria -->
                <div class="card legendary" onclick="playCard('dna-evidence')">
                    <div class="card-inner">
                        <div class="card-header">
                            <span class="card-type">Evid√™ncia</span>
                            <span class="card-rarity rarity-legendary">Lend√°ria</span>
                        </div>
                        <div class="card-icon">üß¨</div>
                        <div class="card-title">DNA do Assassino</div>
                        <div class="card-description">
                            Perfil gen√©tico completo que revela a identidade do criminoso. 99.9% de precis√£o.
                        </div>
                        <div class="card-stats">
                            <div class="stat">‚ö° <span>95</span></div>
                            <div class="stat">üéØ <span>100</span></div>
                            <div class="stat">üíé <span>√önica</span></div>
                        </div>
                    </div>
                </div>

                <!-- Carta de Suspeito √âpica -->
                <div class="card epic" onclick="playCard('main-suspect')">
                    <div class="card-inner">
                        <div class="card-header">
                            <span class="card-type">Suspeito</span>
                            <span class="card-rarity rarity-epic">√âpica</span>
                        </div>
                        <div class="card-icon">üë®‚Äçüíº</div>
                        <div class="card-title">Marcus Thompson</div>
                        <div class="card-description">
                            Ex-marido violento com motivos claros. Hist√≥rico criminal extenso.
                        </div>
                        <div class="card-stats">
                            <div class="stat">‚ö° <span>78</span></div>
                            <div class="stat">üéØ <span>85</span></div>
                            <div class="stat">üîç <span>Perigoso</span></div>
                        </div>
                    </div>
                </div>

                <!-- Carta de A√ß√£o Rara -->
                <div class="card rare" onclick="playCard('interrogation')">
                    <div class="card-inner">
                        <div class="card-header">
                            <span class="card-type">A√ß√£o</span>
                            <span class="card-rarity rarity-rare">Rara</span>
                        </div>
                        <div class="card-icon">üîç</div>
                        <div class="card-title">Interrogat√≥rio Intensivo</div>
                        <div class="card-description">
                            T√©cnica avan√ßada que for√ßa o suspeito a revelar informa√ß√µes cruciais.
                        </div>
                        <div class="card-stats">
                            <div class="stat">‚ö° <span>65</span></div>
                            <div class="stat">üéØ <span>70</span></div>
                            <div class="stat">‚è±Ô∏è <span>3 min</span></div>
                        </div>
                    </div>
                </div>

                <!-- Carta de Local Rara -->
                <div class="card rare" onclick="playCard('crime-scene')">
                    <div class="card-inner">
                        <div class="card-header">
                            <span class="card-type">Local</span>
                            <span class="card-rarity rarity-rare">Rara</span>
                        </div>
                        <div class="card-icon">üè†</div>
                        <div class="card-title">Cena do Crime</div>
                        <div class="card-description">
                            Apartamento da v√≠tima. M√∫ltiplas evid√™ncias dispon√≠veis para coleta.
                        </div>
                        <div class="card-stats">
                            <div class="stat">‚ö° <span>60</span></div>
                            <div class="stat">üéØ <span>80</span></div>
                            <div class="stat">üîç <span>5 pistas</span></div>
                        </div>
                    </div>
                </div>

                <!-- Carta de Equipamento √âpica -->
                <div class="card epic" onclick="playCard('forensic-kit')">
                    <div class="card-inner">
                        <div class="card-header">
                            <span class="card-type">Equipamento</span>
                            <span class="card-rarity rarity-epic">√âpica</span>
                        </div>
                        <div class="card-icon">üî¨</div>
                        <div class="card-title">Kit Forense Avan√ßado</div>
                        <div class="card-description">
                            Equipamento de alta tecnologia para an√°lise instant√¢nea de evid√™ncias.
                        </div>
                        <div class="card-stats">
                            <div class="stat">‚ö° <span>85</span></div>
                            <div class="stat">üéØ <span>90</span></div>
                            <div class="stat">‚öóÔ∏è <span>+50% an√°lise</span></div>
                        </div>
                    </div>
                </div>

                <!-- Carta de Aliado Comum -->
                <div class="card common" onclick="playCard('backup-officer')">
                    <div class="card-inner">
                        <div class="card-header">
                            <span class="card-type">Aliado</span>
                            <span class="card-rarity rarity-common">Comum</span>
                        </div>
                        <div class="card-icon">üëÆ‚Äç‚ôÇÔ∏è</div>
                        <div class="card-title">Oficial de Apoio</div>
                        <div class="card-description">
                            Policial experiente que oferece suporte durante a investiga√ß√£o.
                        </div>
                        <div class="card-stats">
                            <div class="stat">‚ö° <span>45</span></div>
                            <div class="stat">üéØ <span>55</span></div>
                            <div class="stat">üõ°Ô∏è <span>Prote√ß√£o</span></div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Deck de M√£o -->
            <div class="deck-area">
                <div class="section-title">üÉè Minha M√£o (6/7 cartas)</div>
                <div class="hand-cards">
                    <div class="mini-card" onclick="playFromHand('witness')">
                        <div class="mini-card-icon">üëÅÔ∏è</div>
                        <div class="mini-card-title">Testemunha</div>
                    </div>
                    <div class="mini-card" onclick="playFromHand('phone-data')">
                        <div class="mini-card-icon">üì±</div>
                        <div class="mini-card-title">Dados do Celular</div>
                    </div>
                    <div class="mini-card" onclick="playFromHand('ballistics')">
                        <div class="mini-card-icon">üéØ</div>
                        <div class="mini-card-title">Bal√≠stica</div>
                    </div>
                    <div class="mini-card" onclick="playFromHand('surveillance')">
                        <div class="mini-card-icon">üìπ</div>
                        <div class="mini-card-title">Vigil√¢ncia</div>
                    </div>
                    <div class="mini-card" onclick="playFromHand('profile')">
                        <div class="mini-card-icon">üß†</div>
                        <div class="mini-card-title">Perfil Psicol√≥gico</div>
                    </div>
                    <div class="mini-card" onclick="playFromHand('warrant')">
                        <div class="mini-card-icon">üìú</div>
                        <div class="mini-card-title">Mandado</div>
                    </div>
                </div>
                
                <div style="display: flex; gap: 1rem; margin-top: 1rem;">
                    <button class="btn" onclick="drawCard()">üé¥ Comprar Carta</button>
                    <button class="btn" onclick="shuffleDeck()">üîÄ Embaralhar</button>
                    <button class="btn" onclick="useCombo()">‚ö° Usar Combo</button>
                </div>
            </div>
        </div>

        <div class="sidebar">
            <div class="section-title">üìä Estat√≠sticas</div>
            
            <div style="margin-bottom: 1.5rem;">
                <div style="display: flex; justify-content: space-between; margin-bottom: 0.5rem;">
                    <span>Cartas Jogadas</span>
                    <span>12/20</span>
                </div>
                <div class="progress-bar">
                    <div class="progress-fill" style="width: 60%"></div>
                </div>
            </div>
            
            <div style="margin-bottom: 1.5rem;">
                <div style="display: flex; justify-content: space-between; margin-bottom: 0.5rem;">
                    <span>Combo Streak</span>
                    <span>3x</span>
                </div>
                <div class="progress-bar">
                    <div class="progress-fill" style="width: 30%"></div>
                </div>
            </div>

            <div style="margin-bottom: 1.5rem;">
                <div style="display: flex; justify-content: space-between; margin-bottom: 0.5rem;">
                    <span>Precis√£o</span>
                    <span>87%</span>
                </div>
                <div class="progress-bar">
                    <div class="progress-fill" style="width: 87%"></div>
                </div>
            </div>

            <div class="section-title" style="margin-top: 2rem;">üèÜ Conquistas Recentes</div>
            <div style="font-size: 0.9rem;">
                <div style="margin-bottom: 0.8rem; padding: 0.5rem; background: rgba(251, 191, 36, 0.1); border-radius: 8px;">
                    üî• <strong>Combo Master!</strong><br/>
                    <small>3 cartas em sequ√™ncia perfeita</small>
                </div>
                <div style="margin-bottom: 0.8rem; padding: 0.5rem; background: rgba(139, 92, 246, 0.1); border-radius: 8px;">
                    üíé <strong>Carta √âpica!</strong><br/>
                    <small>Primeira carta √©pica coletada</small>
                </div>
                <div style="margin-bottom: 0.8rem; padding: 0.5rem; background: rgba(239, 68, 68, 0.1); border-radius: 8px;">
                    ‚ö° <strong>Investigador R√°pido!</strong><br/>
                    <small>Resolveu pista em menos de 2 min</small>
                </div>
            </div>

            <div class="section-title" style="margin-top: 2rem;">üí∞ Loja de Cartas</div>
            <div style="display: flex; flex-direction: column; gap: 0.8rem;">
                <button class="btn" onclick="buyPack('basic')">
                    üì¶ Pacote B√°sico - 100üí∞
                </button>
                <button class="btn" onclick="buyPack('premium')">
                    ‚ú® Pacote Premium - 250üí∞
                </button>
                <button class="btn" onclick="buyPack('legendary')">
                    üåü Pacote Lend√°rio - 500üí∞
                </button>
            </div>

            <div style="text-align: center; margin-top: 1.5rem; font-size: 1.2rem; color: #fbbf24;">
                üí∞ Moedas: <strong>347</strong>
            </div>
        </div>
    </div>

    <!-- Modal para Carta Detalhada -->
    <div id="cardModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('cardModal')">&times;</span>
            <h2 style="color: #fbbf24; margin-bottom: 1.5rem;">üÉè Detalhes da Carta</h2>
            <div id="cardDetails"></div>
        </div>
    </div>

    <!-- Modal para Cole√ß√£o -->
    <div id="collectionModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('collectionModal')">&times;</span>
            <h2 style="color: #fbbf24; margin-bottom: 1.5rem;">üìö Minha Cole√ß√£o</h2>
            <div id="collectionContent">
                <p>Total de cartas: <strong>47/200</strong></p>
                <div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(100px, 1fr)); gap: 1rem; margin-top: 1.5rem;">
                    <div class="mini-card">
                        <div class="mini-card-icon">üß¨</div>
                        <div class="mini-card-title">DNA (L)</div>
                    </div>
                    <div class="mini-card">
                        <div class="mini-card-icon">üë®‚Äçüíº</div>
                        <div class="mini-card-title">Marcus (E)</div>
                    </div>
                    <div class="mini-card">
                        <div class="mini-card-icon">üîç</div>
                        <div class="mini-card-title">Interrogat√≥rio (R)</div>
                    </div>
                    <!-- Mais cartas... -->
                </div>
            </div>
        </div>
    </div>

    <script>
        // Timer do jogo
        let gameTime = 45 * 60;
        let cardsPlayed = 0;
        let comboStreak = 0;
        let playerCoins = 347;
        
        function startTimer() {
            const timer = setInterval(() => {
                const minutes = Math.floor(gameTime / 60);
                const seconds = gameTime % 60;
                document.getElementById('gameTimer').textContent = `‚è±Ô∏è ${minutes}:${seconds.toString().padStart(2, '0')}`;
                
                if (gameTime <= 0) {
                    clearInterval(timer);
                    alert('‚è∞ Tempo esgotado! Fazendo acusa√ß√£o autom√°tica baseada nas cartas jogadas...');
                }
                gameTime--;
            }, 1000);
        }

        startTimer();

        // Sistema de cartas
        function playCard(cardId) {
            const cardElement = event.currentTarget;
            
            // Anima√ß√£o de uso da carta
            cardElement.style.transform = 'scale(1.1) rotateY(180deg)';
            cardElement.style.opacity = '0.7';
            
            setTimeout(() => {
                cardElement.style.transform = 'scale(1) rotateY(0deg)';
                cardElement.style.opacity = '1';
            }, 800);

            // Processar efeito da carta
            const cardEffects = {
                'dna-evidence': {
                    title: 'üß¨ DNA do Assassino Analisado!',
                    effect: 'Revelou a identidade do assassino! +95 pontos de investiga√ß√£o.',
                    sound: 'üî¨ *Som de an√°lise de laborat√≥rio*'
                },
                'main-suspect': {
                    title: 'üë®‚Äçüíº Suspeito Principal Identificado!',
                    effect: 'Marcus Thompson confirmado como suspeito principal! +78 pontos.',
                    sound: 'üö® *Som de sirene*'
                },
                'interrogation': {
                    title: 'üîç Interrogat√≥rio Bem-sucedido!',
                    effect: 'Suspeito revelou informa√ß√µes cruciais! +65 pontos.',
                    sound: 'üé§ *Som de grava√ß√£o*'
                },
                'crime-scene': {
                    title: 'üè† Cena do Crime Investigada!',
                    effect: 'Novas evid√™ncias coletadas! +60 pontos.',
                    sound: 'üì∏ *Som de c√¢mera*'
                },
                'forensic-kit': {
                    title: 'üî¨ Kit Forense Ativado!',
                    effect: 'Velocidade de an√°lise aumentada em 50%! +85 pontos.',
                    sound: '‚öóÔ∏è *Som de equipamento cient√≠fico*'
                },
                'backup-officer': {
                    title: 'üëÆ‚Äç‚ôÇÔ∏è Refor√ßo Chegou!',
                    effect: 'Seguran√ßa aumentada! +45 pontos.',
                    sound: 'üöì *Som de viatura*'
                }
            };

            const effect = cardEffects[cardId] || {
                title: 'üÉè Carta Jogada!',
                effect: 'Efeito ativado com sucesso!',
                sound: '‚ú® *Som m√°gico*'
            };

            // Mostrar efeito
            showCardEffect(effect);
            
            // Atualizar estat√≠sticas
            cardsPlayed++;
            comboStreak++;
            updateStats();
            
            // Adicionar mensagem no chat
            addChatMessage(`üé¥ Jogou: ${effect.title}`, 'self');
        }

        function playFromHand(cardId) {
            const handCards = {
                'witness': 'üëÅÔ∏è Testemunha interrogada! Obteve informa√ß√µes valiosas.',
                'phone-data': 'üì± Dados do celular analisados! √öltimas chamadas reveladas.',
                'ballistics': 'üéØ An√°lise bal√≠stica completa! Trajet√≥ria confirmada.',
                'surveillance': 'üìπ C√¢meras revisadas! Suspeito identificado.',
                'profile': 'üß† Perfil psicol√≥gico atualizado! Padr√£o comportamental detectado.',
                'warrant': 'üìú Mandado executado! Evid√™ncias legalmente obtidas.'
            };

            const effect = handCards[cardId] || 'Carta da m√£o jogada!';
            
            // Remover carta da m√£o (efeito visual)
            event.currentTarget.style.animation = 'cardAppear 0.5s ease-out reverse';
            setTimeout(() => {
                event.currentTarget.style.opacity = '0.3';
                event.currentTarget.style.pointerEvents = 'none';
            }, 500);

            showNotification(effect);
            addChatMessage(`üÉè Da m√£o: ${effect}`, 'self');
        }

        function showCardEffect(effect) {
            // Criar popup de efeito da carta
            const popup = document.createElement('div');
            popup.style.cssText = `
                position: fixed;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%);
                background: linear-gradient(135deg, #1a1a2e, #16213e);
                border: 3px solid #fbbf24;
                border-radius: 20px;
                padding: 2rem;
                z-index: 3000;
                text-align: center;
                box-shadow: 0 20px 60px rgba(0, 0, 0, 0.8);
                animation: cardAppear 0.6s ease-out;
            `;
            
            popup.innerHTML = `
                <h3 style="color: #fbbf24; margin-bottom: 1rem; font-size: 1.5rem;">${effect.title}</h3>
                <p style="color: #cbd5e1; margin-bottom: 1rem; font-size: 1.1rem;">${effect.effect}</p>
                <p style="color: #6b7280; font-style: italic;">${effect.sound}</p>
                <button class="btn" onclick="this.parentElement.remove()" style="margin-top: 1.5rem;">‚ú® Continuar</button>
            `;
            
            document.body.appendChild(popup);
            
            // Remover automaticamente ap√≥s 5 segundos
            setTimeout(() => {
                if (popup.parentElement) {
                    popup.remove();
                }
            }, 5000);
        }

        function showNotification(message) {
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background: linear-gradient(135deg, #fbbf24, #f59e0b);
                color: #0f0f23;
                padding: 1rem 1.5rem;
                border-radius: 12px;
                font-weight: 600;
                z-index: 2000;
                box-shadow: 0 10px 30px rgba(251, 191, 36, 0.4);
                animation: cardAppear 0.5s ease-out;
            `;
            notification.textContent = message;
            
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.style.animation = 'cardAppear 0.5s ease-out reverse';
                setTimeout(() => notification.remove(), 500);
            }, 3000);
        }

        function updateStats() {
            // Atualizar barras de progresso
            const cardsProgress = (cardsPlayed / 20) * 100;
            document.querySelector('.progress-fill').style.width = `${Math.min(cardsProgress, 100)}%`;
            
            // Atualizar combo streak
            const comboProgress = (comboStreak / 10) * 100;
            document.querySelectorAll('.progress-fill')[1].style.width = `${Math.min(comboProgress, 100)}%`;
        }

        // Fun√ß√µes do deck
        function drawCard() {
            const newCards = [
                'üîç Lupa M√°gica',
                'üìã Relat√≥rio Forense',
                'üé≠ Disfarce',
                'üí° Inspira√ß√£o',
                'üîê Chave Mestra'
            ];
            
            const randomCard = newCards[Math.floor(Math.random() * newCards.length)];
            showNotification(`üé¥ Nova carta: ${randomCard}`);
            addChatMessage(`üé¥ Comprei: ${randomCard}`, 'self');
        }

        function shuffleDeck() {
            showNotification('üîÄ Deck embaralhado! Novas possibilidades dispon√≠veis.');
            addChatMessage('üîÄ Embaralhei meu deck', 'self');
        }

        function useCombo() {
            if (comboStreak >= 3) {
                showNotification('‚ö° COMBO ATIVADO! B√¥nus de +150 pontos!');
                addChatMessage('‚ö° Usei combo devastador! +150 pontos', 'self');
                comboStreak = 0;
                updateStats();
            } else {
                showNotification('‚ùå Combo insuficiente. Precisa de pelo menos 3 cartas em sequ√™ncia.');
            }
        }

        // Loja de cartas
        function buyPack(packType) {
            const packs = {
                'basic': { cost: 100, cards: 3, rares: 0 },
                'premium': { cost: 250, cards: 5, rares: 1 },
                'legendary': { cost: 500, cards: 8, rares: 3 }
            };
            
            const pack = packs[packType];
            
            if (playerCoins >= pack.cost) {
                playerCoins -= pack.cost;
                document.querySelector('div[style*="Moedas"] strong').textContent = playerCoins;
                
                showNotification(`üì¶ Pacote ${packType} comprado! ${pack.cards} cartas obtidas!`);
                addChatMessage(`üí∞ Comprei pacote ${packType}! ${pack.cards} novas cartas`, 'self');
            } else {
                showNotification('‚ùå Moedas insuficientes!');
            }
        }

        // Chat com feedback visual
        function sendMessage() {
            const input = document.getElementById('chatInput');
            const sendButton = document.querySelector('.send-button');
            const message = input.value.trim();
            
            if (message) {
                // Feedback visual no bot√£o
                sendButton.style.transform = 'scale(0.95)';
                sendButton.innerHTML = '<span class="send-button-text">Enviando...</span><span class="send-button-icon">‚è≥</span><div class="send-button-ripple"></div>';
                sendButton.disabled = true;
                sendButton.classList.add('highlight');
                
                // Feedback visual no input
                input.style.borderColor = '#10b981';
                input.style.boxShadow = '0 0 20px rgba(16, 185, 129, 0.4)';
                
                setTimeout(() => {
                    // Restaurar bot√£o
                    sendButton.innerHTML = '<span class="send-button-text">Enviar</span><span class="send-button-icon">üì§</span><div class="send-button-ripple"></div>';
                    sendButton.disabled = false;
                    sendButton.style.transform = '';
                    sendButton.classList.remove('highlight');
                    
                    // Restaurar input
                    input.style.borderColor = '';
                    input.style.boxShadow = '';
                    
                    // Adicionar mensagem
                    addChatMessage(message, 'self');
                    input.value = '';
                    
                    // Efeito de sucesso
                    showMessageSuccess();
                    
                }, 300);
                
                // Simular resposta da equipe
                setTimeout(() => {
                    const responses = [
                        "Excelente estrat√©gia de cartas! üé¥",
                        "Que combo incr√≠vel! üî•",
                        "Suas cartas est√£o muito fortes hoje! üí™",
                        "Boa jogada! Continue assim! ‚ö°",
                        "Impressionante cole√ß√£o de cartas! üåü"
                    ];
                    const randomResponse = responses[Math.floor(Math.random() * responses.length)];
                    addChatMessage(randomResponse, 'üîç Morgan');
                }, 2300);
            } else {
                // Feedback para mensagem vazia
                input.style.borderColor = '#ef4444';
                input.style.boxShadow = '0 0 20px rgba(239, 68, 68, 0.4)';
                input.placeholder = 'Digite algo antes de enviar...';
                
                setTimeout(() => {
                    input.style.borderColor = '';
                    input.style.boxShadow = '';
                    input.placeholder = 'Digite sua mensagem...';
                }, 2000);
            }
        }
        
        function showMessageSuccess() {
            const success = document.createElement('div');
            success.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background: linear-gradient(135deg, #10b981, #059669);
                color: white;
                padding: 0.8rem 1.5rem;
                border-radius: 12px;
                font-weight: 600;
                z-index: 3000;
                box-shadow: 0 10px 30px rgba(16, 185, 129, 0.4);
                animation: slideIn 0.3s ease-out;
            `;
            success.innerHTML = '‚úÖ Mensagem enviada!';
            
            document.body.appendChild(success);
            
            setTimeout(() => {
                success.style.animation = 'slideIn 0.3s ease-out reverse';
                setTimeout(() => success.remove(), 300);
            }, 2000);
        }

        function addChatMessage(message, sender) {
            const chatContainer = document.getElementById('chatContainer');
            const userName = sender === 'self' ? (localStorage.getItem('detectiveName') || 'Detetive') : sender;
            
            const messageDiv = document.createElement('div');
            messageDiv.className = 'chat-message';
            messageDiv.innerHTML = `<span class="chat-user">${sender === 'self' ? 'üïµÔ∏è' : ''} ${userName}:</span> ${message}`;
            
            chatContainer.appendChild(messageDiv);
            chatContainer.scrollTop = chatContainer.scrollHeight;
        }

        // Enter para enviar mensagem e destacar bot√£o
        document.getElementById('chatInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                sendMessage();
            }
        });

        // Destacar bot√£o quando usu√°rio est√° digitando
        document.getElementById('chatInput').addEventListener('input', function(e) {
            const sendButton = document.querySelector('.send-button');
            const value = e.target.value.trim();
            
            if (value.length > 0) {
                sendButton.classList.add('highlight');
            } else {
                sendButton.classList.remove('highlight');
            }
        });

        // Adicionar contador de caracteres visual
        document.getElementById('chatInput').addEventListener('input', function(e) {
            const maxLength = parseInt(e.target.getAttribute('maxlength'));
            const currentLength = e.target.value.length;
            const remaining = maxLength - currentLength;
            
            // Mudar cor do placeholder baseado no limite
            if (remaining < 20) {
                e.target.style.color = '#ef4444';
            } else if (remaining < 50) {
                e.target.style.color = '#f59e0b';
            } else {
                e.target.style.color = 'white';
            }
        });

        // Modais
        function openDeck() {
            alert('üÉè Sistema de deck em desenvolvimento! Em breve voc√™ poder√° personalizar completamente seu baralho.');
        }

        function showCollection() {
            document.getElementById('collectionModal').style.display = 'block';
        }

        function makeAccusation() {
            alert('‚öñÔ∏è Sistema de acusa√ß√£o baseado em cartas em desenvolvimento! Suas cartas jogadas determinar√£o o resultado.');
        }

        // Fun√ß√£o para sair da investiga√ß√£o
        function exitInvestigation() {
            // Mostrar modal de confirma√ß√£o
            const confirmExit = confirm('üö™ Tem certeza que deseja sair da investiga√ß√£o?\n\n‚ö†Ô∏è Seu progresso atual ser√° salvo, mas voc√™ perder√° o timer atual.\n\n‚úÖ Clique OK para voltar ao lobby\n‚ùå Clique Cancelar para continuar jogando');
            
            if (confirmExit) {
                // Salvar progresso antes de sair
                const gameData = {
                    cardsPlayed: cardsPlayed,
                    comboStreak: comboStreak,
                    playerCoins: playerCoins,
                    exitTime: new Date().toISOString(),
                    timeRemaining: gameTime
                };
                
                localStorage.setItem('criminalMinds_gameProgress', JSON.stringify(gameData));
                
                // Mostrar feedback de sa√≠da
                const exitFeedback = document.createElement('div');
                exitFeedback.style.cssText = `
                    position: fixed;
                    top: 50%;
                    left: 50%;
                    transform: translate(-50%, -50%);
                    background: linear-gradient(135deg, #1a1a2e, #16213e);
                    border: 3px solid #fbbf24;
                    border-radius: 20px;
                    padding: 2rem;
                    z-index: 4000;
                    text-align: center;
                    box-shadow: 0 20px 60px rgba(0, 0, 0, 0.8);
                    color: white;
                `;
                
                exitFeedback.innerHTML = `
                    <h3 style="color: #fbbf24; margin-bottom: 1rem;">üö™ Saindo da Investiga√ß√£o...</h3>
                    <p style="color: #cbd5e1; margin-bottom: 1rem;">‚úÖ Progresso salvo com sucesso!</p>
                    <p style="color: #6b7280; font-style: italic;">Redirecionando para o lobby...</p>
                `;
                
                document.body.appendChild(exitFeedback);
                
                // Redirecionar ap√≥s 2 segundos
                setTimeout(() => {
                    window.location.href = 'lobby.html';
                }, 2000);
            }
        }

        function closeModal(modalId) {
            document.getElementById(modalId).style.display = 'none';
        }

        // Fechar modal clicando fora
        window.onclick = function(event) {
            const modals = ['cardModal', 'collectionModal'];
            modals.forEach(modalId => {
                const modal = document.getElementById(modalId);
                if (event.target == modal) {
                    modal.style.display = 'none';
                }
            });
        }

        // Simula√ß√£o de atividade da equipe
        function simulateTeamActivity() {
            const activities = [
                "üé¥ Reid jogou carta LEND√ÅRIA: Perfil Completo!",
                "‚ö° Morgan ativou combo de 5 cartas!",
                "üíé Brennan encontrou carta √âPICA rara!",
                "üî• Garcia comprou pacote premium!",
                "‚ú® Hotchner desbloqueou conquista especial!"
            ];
            
            setInterval(() => {
                if (Math.random() < 0.4) {
                    const activity = activities[Math.floor(Math.random() * activities.length)];
                    addChatMessage(activity, 'ü§ñ Sistema');
                }
            }, 8000);
        }

        // Inicializar
        simulateTeamActivity();

        // Recuperar dados do usu√°rio
        window.onload = function() {
            const detectiveName = localStorage.getItem('detectiveName');
            if (detectiveName) {
                const teamList = document.getElementById('teamList');
                const userDiv = document.createElement('div');
                userDiv.className = 'chat-message';
                userDiv.innerHTML = `<span class="chat-user">üïµÔ∏è ${detectiveName}:</span> Online - 47 cartas`;
                teamList.appendChild(userDiv);
            }
        };
    </script>
</body>
</html>