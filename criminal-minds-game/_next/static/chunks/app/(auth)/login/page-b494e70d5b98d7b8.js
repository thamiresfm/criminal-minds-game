(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[665],{3492:function(e,s,r){Promise.resolve().then(r.bind(r,8930))},8930:function(e,s,r){"use strict";r.r(s),r.d(s,{default:function(){return b}});var a=r(7437),t=r(2265),i=r(7648),l=r(9376);let n=(0,r(9763).Z)("Gamepad",[["line",{x1:"6",x2:"10",y1:"12",y2:"12",key:"161bw2"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"15",x2:"15.01",y1:"13",y2:"13",key:"dqpgro"}],["line",{x1:"18",x2:"18.01",y1:"11",y2:"11",key:"meh2c"}],["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}]]);var c=r(9345),d=r(2252),m=r(5302),o=r(6337),x=r(7769),p=r(2208),u=r(2369),h=r(2744);function b(){let e=(0,l.useRouter)(),{isAuthenticated:s,isLoading:r,error:b}=(0,h.aC)(),{login:f,loginAsGuest:g,clearError:y}=(0,h.X$)(),{validateEmail:j,validatePassword:N}=(0,h.sh)(),[w,v]=(0,t.useState)({email:"",password:"",rememberMe:!1}),[Z,C]=(0,t.useState)(!1),[k,I]=(0,t.useState)({email:"",password:""}),[A,M]=(0,t.useState)(!1),[D,E]=(0,t.useState)("");(0,t.useEffect)(()=>{s&&e.push("/lobby")},[s,e]),(0,t.useEffect)(()=>{y()},[y]);let S=e=>{let{name:s,value:r,type:a,checked:t}=e.target;if(v(e=>({...e,[s]:"checkbox"===a?t:r})),"email"===s){let e=j(r);I(s=>({...s,email:e.isValid?"":e.error||""}))}if("password"===s){if(["Admin123!","Demo123!"].includes(r))I(e=>({...e,password:""}));else{let e=N(r);I(s=>({...s,password:e.isValid?"":e.errors[0]||""}))}}b&&y()},G=async e=>{e.preventDefault();try{await f({email:w.email,password:w.password,rememberMe:w.rememberMe})}catch(e){console.error("Login failed:",e)}},L=async()=>{M(!0)},P=async()=>{try{await g(D),M(!1)}catch(e){console.error("Guest login failed:",e)}},W=()=>{let e=["Admin123!","Demo123!"].includes(w.password);return w.email&&w.password&&!k.email&&(e||!k.password)};return(0,a.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-primary-900 via-primary-800 to-primary-900 flex items-center justify-center p-4",children:[(0,a.jsx)("div",{className:"absolute inset-0 opacity-10",children:(0,a.jsx)("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA2MCA2MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxnIGZpbGw9IiNmZmYiIG9wYWNpdHk9IjAuMSI+PGNpcmNsZSBjeD0iNyIgY3k9IjciIHI9IjEiLz48L2c+PC9nPjwvc3ZnPg==')] repeat"})}),(0,a.jsxs)("div",{className:"relative w-full max-w-md mx-auto",children:[(0,a.jsxs)("div",{className:"bg-primary-50 rounded-2xl shadow-noir-lg p-8 space-y-6",children:[(0,a.jsxs)("div",{className:"text-center space-y-2",children:[(0,a.jsx)("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-accent-gold/10 mb-4",children:(0,a.jsx)(n,{className:"w-8 h-8 text-accent-gold"})}),(0,a.jsx)("h1",{className:"text-2xl font-display font-bold text-primary-900",children:"Criminal Minds"}),(0,a.jsx)("p",{className:"text-text-secondary",children:"Entre para desvendar mist\xe9rios"})]}),b&&(0,a.jsx)("div",{className:"bg-accent-red/10 border border-accent-red/20 rounded-lg p-3",children:(0,a.jsx)("p",{className:"text-accent-red text-sm font-medium",children:b})}),(0,a.jsxs)("form",{onSubmit:G,className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-primary-700",children:"Email"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(c.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-text-muted"}),(0,a.jsx)("input",{id:"email",name:"email",type:"email",required:!0,value:w.email,onChange:S,className:"w-full pl-10 pr-10 py-3 border rounded-lg bg-white text-primary-900 placeholder-text-muted focus:ring-2 focus:border-transparent transition-all duration-200 ".concat(k.email?"border-accent-red focus:ring-accent-red":w.email&&!k.email?"border-accent-green focus:ring-accent-green":"border-primary-300 focus:ring-accent-gold"),placeholder:"seu@email.com",disabled:r}),w.email&&(0,a.jsx)("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:k.email?(0,a.jsx)(d.Z,{className:"w-5 h-5 text-accent-red"}):(0,a.jsx)(m.Z,{className:"w-5 h-5 text-accent-green"})})]}),k.email&&(0,a.jsxs)("p",{className:"text-sm text-accent-red flex items-center mt-1",children:[(0,a.jsx)(d.Z,{className:"w-4 h-4 mr-1"}),k.email]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-primary-700",children:"Senha"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(o.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-text-muted"}),(0,a.jsx)("input",{id:"password",name:"password",type:Z?"text":"password",required:!0,value:w.password,onChange:S,className:"w-full pl-10 pr-12 py-3 border rounded-lg bg-white text-primary-900 placeholder-text-muted focus:ring-2 focus:border-transparent transition-all duration-200 ".concat(["Admin123!","Demo123!"].includes(w.password)?"border-accent-green focus:ring-accent-green":k.password?"border-accent-red focus:ring-accent-red":w.password&&!k.password?"border-accent-green focus:ring-accent-green":"border-primary-300 focus:ring-accent-gold"),placeholder:"Sua senha",disabled:r}),(0,a.jsx)("button",{type:"button",onClick:()=>C(!Z),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-text-muted hover:text-primary-700 transition-colors",disabled:r,children:Z?(0,a.jsx)(x.Z,{className:"w-5 h-5"}):(0,a.jsx)(p.Z,{className:"w-5 h-5"})})]}),k.password&&!["Admin123!","Demo123!"].includes(w.password)&&(0,a.jsxs)("p",{className:"text-sm text-accent-red flex items-center mt-1",children:[(0,a.jsx)(d.Z,{className:"w-4 h-4 mr-1"}),k.password]}),w.password&&(0,a.jsx)(a.Fragment,{children:["Admin123!","Demo123!"].includes(w.password)?(0,a.jsxs)("p",{className:"text-sm text-accent-green flex items-center mt-1",children:[(0,a.jsx)(m.Z,{className:"w-4 h-4 mr-1"}),"Senha de teste v\xe1lida! âœ¨"]}):k.password?null:(0,a.jsxs)("p",{className:"text-sm text-accent-green flex items-center mt-1",children:[(0,a.jsx)(m.Z,{className:"w-4 h-4 mr-1"}),"Senha forte!"]})})]}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("input",{id:"rememberMe",name:"rememberMe",type:"checkbox",checked:w.rememberMe,onChange:S,className:"w-4 h-4 text-accent-gold bg-white border-primary-300 rounded focus:ring-accent-gold focus:ring-2",disabled:r}),(0,a.jsx)("label",{htmlFor:"rememberMe",className:"ml-2 text-sm text-primary-700",children:"Lembrar de mim"})]}),(0,a.jsx)("button",{type:"submit",disabled:r||!W(),className:"w-full py-3 px-4 rounded-lg font-semibold focus:ring-2 focus:ring-accent-gold focus:ring-offset-2 transition-all duration-200 active:scale-[0.98] ".concat(r||!W()?"bg-primary-300 text-primary-500 cursor-not-allowed":"bg-accent-gold text-primary-900 hover:bg-accent-gold/90"),children:r?(0,a.jsxs)("div",{className:"flex items-center justify-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-2 border-primary-900 border-t-transparent mr-2"}),"Entrando..."]}):"Entrar"}),(0,a.jsxs)("div",{className:"bg-primary-50 p-3 rounded-lg border border-primary-200",children:[(0,a.jsx)("p",{className:"text-xs text-primary-600 mb-2 font-medium",children:"Credenciais de teste:"}),(0,a.jsxs)("div",{className:"space-y-1 text-xs text-primary-500",children:[(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Admin:"})," admin@criminalmind.com / Admin123!"]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Demo:"})," demo@test.com / Demo123!"]})]})]})]}),(0,a.jsx)("div",{className:"text-center",children:(0,a.jsxs)("p",{className:"text-sm text-text-secondary",children:["N\xe3o tem conta?"," ",(0,a.jsx)(i.default,{href:"/register",className:"text-accent-gold hover:text-accent-gold/80 font-medium transition-colors",children:"Registrar-se"})]})}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,a.jsx)("div",{className:"w-full border-t border-primary-300"})}),(0,a.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,a.jsx)("span",{className:"px-2 bg-primary-50 text-text-muted",children:"ou"})})]}),(0,a.jsx)("button",{onClick:L,disabled:r,className:"w-full bg-primary-700 text-primary-50 py-3 px-4 rounded-lg font-medium hover:bg-primary-600 focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed active:scale-[0.98]",children:r?(0,a.jsxs)("div",{className:"flex items-center justify-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-2 border-primary-50 border-t-transparent mr-2"}),"Entrando..."]}):(0,a.jsxs)("div",{className:"flex items-center justify-center",children:[(0,a.jsx)(u.Z,{className:"w-5 h-5 mr-2"}),"Entrar como Convidado"]})}),(0,a.jsx)("div",{className:"text-center pt-4",children:(0,a.jsx)(i.default,{href:"/forgot-password",className:"text-sm text-text-secondary hover:text-primary-700 transition-colors",children:"Esqueceu sua senha?"})})]}),(0,a.jsx)("div",{className:"text-center mt-6",children:(0,a.jsx)("p",{className:"text-xs text-primary-400",children:"Criminal Minds Game v1.0.0"})})]}),A&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:(0,a.jsxs)("div",{className:"bg-white rounded-2xl p-6 w-full max-w-md",children:[(0,a.jsxs)("div",{className:"text-center mb-6",children:[(0,a.jsx)("div",{className:"inline-flex items-center justify-center w-12 h-12 rounded-full bg-accent-gold/10 mb-3",children:(0,a.jsx)(u.Z,{className:"w-6 h-6 text-accent-gold"})}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-primary-900 mb-2",children:"Nome do Detetive"}),(0,a.jsx)("p",{className:"text-sm text-text-secondary",children:"Como voc\xea gostaria de ser chamado na investiga\xe7\xe3o?"})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("input",{type:"text",value:D,onChange:e=>E(e.target.value),placeholder:"Detetive An\xf4nimo",className:"w-full px-4 py-3 border border-primary-300 rounded-lg bg-white text-primary-900 placeholder-text-muted focus:ring-2 focus:ring-accent-gold focus:border-transparent transition-all duration-200",maxLength:50,disabled:r}),(0,a.jsx)("p",{className:"text-xs text-text-muted mt-1",children:"Deixe em branco para um nome aleat\xf3rio"})]}),(0,a.jsxs)("div",{className:"flex space-x-3",children:[(0,a.jsx)("button",{onClick:()=>M(!1),disabled:r,className:"flex-1 px-4 py-2 border border-primary-300 text-primary-700 rounded-lg hover:bg-primary-50 transition-colors disabled:opacity-50",children:"Cancelar"}),(0,a.jsx)("button",{onClick:P,disabled:r,className:"flex-1 px-4 py-2 bg-accent-gold text-primary-900 rounded-lg hover:bg-accent-gold/90 transition-colors disabled:opacity-50",children:r?(0,a.jsx)("div",{className:"flex items-center justify-center",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-primary-900 border-t-transparent"})}):"Continuar"})]})]})]})})]})}}},function(e){e.O(0,[781,391,972,174,971,117,744],function(){return e(e.s=3492)}),_N_E=e.O()}]);